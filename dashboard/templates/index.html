<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Somali Dialect Classifier - Building Africa's largest open Somali language corpus through systematic data collection from Wikipedia, BBC, HuggingFace, and Språkbanken">
    <meta name="keywords" content="Somali NLP, dialect classification, machine learning, low-resource languages, open source, data pipeline">
    <meta name="author" content="Somali NLP Initiative">
    <meta name="theme-color" content="#2563eb">
    <title>Somali Dialect Classifier | Data Ingestion Dashboard</title>

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🇸🇴</text></svg>">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>

    <style>
        /* ========================================
           CSS CUSTOM PROPERTIES (DESIGN TOKENS)
           ======================================== */
        :root {
            /* Brand Colors */
            --brand-primary: #2563eb;
            --brand-secondary: #7c3aed;
            --brand-accent: #10b981;

            /* Source Colors */
            --wikipedia: #3b82f6;
            --bbc: #ef4444;
            --huggingface: #10b981;
            --sprakbanken: #f59e0b;

            /* Semantic Colors */
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;

            /* Gray Scale */
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;

            /* Typography */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-display: 'Plus Jakarta Sans', 'Inter', sans-serif;
            --font-mono: 'Fira Code', Monaco, monospace;

            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;

            /* Spacing */
            --space-4: 1rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-12: 3rem;
            --space-16: 4rem;

            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

            /* Border Radius */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-full: 9999px;

            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-base: 250ms ease;
            --transition-slow: 350ms ease;
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* ========================================
           BASE STYLES
           ======================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-sans);
            background: var(--gray-50);
            color: var(--gray-900);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ========================================
           SKIP LINK (ACCESSIBILITY)
           ======================================== */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 0;
            background: var(--brand-primary);
            color: white;
            padding: var(--space-4);
            text-decoration: none;
            border-radius: 0 0 var(--radius-md) 0;
            font-weight: 600;
            z-index: 9999;
        }

        .skip-link:focus {
            top: 0;
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* ========================================
           GLOBAL NAVIGATION (STICKY)
           ======================================== */
        .global-nav {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--gray-200);
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .global-nav .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 72px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            text-decoration: none;
            color: var(--gray-900);
        }

        .nav-brand-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: var(--text-lg);
        }

        .nav-brand-text {
            display: flex;
            flex-direction: column;
        }

        .nav-brand-initiative {
            font-size: var(--text-xs);
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 600;
        }

        .nav-brand-project {
            font-size: var(--text-base);
            font-weight: 700;
            font-family: var(--font-display);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            list-style: none;
        }

        .nav-links a {
            color: var(--gray-600);
            text-decoration: none;
            font-weight: 500;
            font-size: var(--text-sm);
            transition: color var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links a:hover,
        .nav-links a:focus {
            color: var(--brand-primary);
            outline: none;
        }

        .nav-cta {
            background: var(--brand-primary);
            color: white;
            padding: 0.5rem var(--space-4);
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: all var(--transition-base);
        }

        .nav-cta:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            color: white;
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: var(--text-2xl);
            cursor: pointer;
            color: var(--gray-700);
        }

        /* ========================================
           HERO SECTION
           ======================================== */
        .hero {
            background: linear-gradient(135deg, #1e40af 0%, var(--brand-primary) 50%, #3b82f6 100%);
            color: white;
            padding: var(--space-16) 0 calc(var(--space-16) + 80px);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            padding: 0.5rem var(--space-4);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
            margin-bottom: var(--space-4);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .hero h1 {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: var(--space-4);
            line-height: 1.1;
        }

        .hero-tagline {
            font-size: var(--text-xl);
            font-weight: 500;
            opacity: 0.95;
            margin-bottom: var(--space-6);
            max-width: 800px;
        }

        .hero-description {
            font-size: var(--text-base);
            opacity: 0.9;
            max-width: 700px;
            margin-bottom: var(--space-8);
            line-height: 1.7;
        }

        /* Hero Stats */
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-12);
        }

        .hero-stat {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
            transition: all var(--transition-base);
        }

        .hero-stat:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-4px);
        }

        .hero-stat-value {
            font-size: var(--text-4xl);
            font-weight: 800;
            font-family: var(--font-display);
            display: block;
            margin-bottom: 0.5rem;
        }

        .hero-stat-label {
            font-size: var(--text-sm);
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 600;
        }

        /* Hero CTAs */
        .hero-ctas {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-8);
            flex-wrap: wrap;
        }

        .hero-cta {
            padding: 0.875rem var(--space-8);
            border-radius: var(--radius-lg);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transition-base);
            font-size: var(--text-base);
        }

        .hero-cta-primary {
            background: white;
            color: var(--brand-primary);
            box-shadow: var(--shadow-lg);
        }

        .hero-cta-primary:hover {
            background: var(--gray-100);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .hero-cta-secondary {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .hero-cta-secondary:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* ========================================
           ML LIFECYCLE NAVIGATOR
           ======================================== */
        .ml-lifecycle {
            background: white;
            margin-top: -60px;
            position: relative;
            z-index: 10;
        }

        .ml-lifecycle .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        .lifecycle-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }

        .lifecycle-header h2 {
            font-family: var(--font-display);
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .lifecycle-header p {
            color: var(--gray-600);
            font-size: var(--text-sm);
        }

        .lifecycle-stages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: var(--space-4);
            position: relative;
        }

        .lifecycle-stage {
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            text-align: center;
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
        }

        .lifecycle-stage:hover {
            border-color: var(--brand-primary);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .lifecycle-stage.current {
            background: linear-gradient(135deg, var(--brand-primary), #3b82f6);
            border-color: var(--brand-primary);
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .lifecycle-stage.completed {
            border-color: var(--success);
        }

        .lifecycle-stage-icon {
            font-size: var(--text-4xl);
            margin-bottom: var(--space-4);
        }

        .lifecycle-stage-number {
            position: absolute;
            top: var(--space-4);
            left: var(--space-4);
            width: 28px;
            height: 28px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-xs);
            font-weight: 700;
            color: var(--gray-700);
        }

        .lifecycle-stage.current .lifecycle-stage-number {
            background: rgba(255, 255, 255, 0.3);
            color: white;
        }

        .lifecycle-stage.completed .lifecycle-stage-number {
            background: var(--success);
            color: white;
        }

        .lifecycle-stage-name {
            font-weight: 600;
            font-size: var(--text-base);
            margin-bottom: 0.25rem;
        }

        .lifecycle-stage-status {
            font-size: var(--text-xs);
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 600;
        }

        .lifecycle-stage.current .lifecycle-stage-status {
            opacity: 1;
        }

        .lifecycle-stage-progress {
            margin-top: var(--space-4);
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .lifecycle-stage.current .lifecycle-stage-progress {
            background: rgba(255, 255, 255, 0.3);
        }

        .lifecycle-stage-progress-bar {
            height: 100%;
            background: var(--success);
            border-radius: var(--radius-full);
            transition: width var(--transition-slow);
        }

        .lifecycle-stage.current .lifecycle-stage-progress-bar {
            background: white;
        }

        /* ========================================
           TAB NAVIGATION
           ======================================== */
        .dashboard-tabs {
            background: white;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 72px;
            z-index: 100;
            border-bottom: 1px solid var(--gray-200);
        }

        .dashboard-tabs .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        .tab-list {
            display: flex;
            gap: var(--space-4);
            list-style: none;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .tab-list::-webkit-scrollbar {
            display: none;
        }

        .tab-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: var(--space-4) var(--space-6);
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--gray-600);
            font-weight: 600;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-fast);
            white-space: nowrap;
        }

        .tab-button:hover {
            color: var(--brand-primary);
            background: var(--gray-50);
        }

        .tab-button.active {
            color: var(--brand-primary);
            border-bottom-color: var(--brand-primary);
        }

        .tab-button:focus {
            outline: 2px solid var(--brand-primary);
            outline-offset: -2px;
        }

        /* ========================================
           TAB CONTENT
           ======================================== */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-panel {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-12) var(--space-6);
        }

        /* ========================================
           OVERVIEW TAB - SOURCE STATUS CARDS
           ======================================== */
        .source-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-12);
        }

        .source-card {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .source-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .source-card.wikipedia::before {
            background: var(--wikipedia);
        }

        .source-card.bbc::before {
            background: var(--bbc);
        }

        .source-card.huggingface::before {
            background: var(--huggingface);
        }

        .source-card.sprakbanken::before {
            background: var(--sprakbanken);
        }

        .source-card:hover {
            border-color: var(--brand-primary);
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .source-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-4);
        }

        .source-card-title {
            font-weight: 700;
            font-size: var(--text-lg);
            color: var(--gray-900);
        }

        .source-card-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .source-card-badge.complete {
            background: #d1fae5;
            color: #065f46;
        }

        .source-card-metrics {
            display: grid;
            gap: var(--space-4);
        }

        .source-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .source-metric-label {
            color: var(--gray-600);
            font-size: var(--text-sm);
        }

        .source-metric-value {
            font-weight: 700;
            font-size: var(--text-lg);
            color: var(--gray-900);
        }

        .source-card-footer {
            margin-top: var(--space-6);
            padding-top: var(--space-4);
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-xs);
            color: var(--gray-500);
        }

        /* ========================================
           CHARTS
           ======================================== */
        .charts-section {
            margin-bottom: var(--space-12);
        }

        .section-title {
            font-family: var(--font-display);
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: var(--space-6);
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: var(--space-6);
        }

        .chart-card {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-base);
        }

        .chart-card:hover {
            box-shadow: var(--shadow-md);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }

        .chart-title {
            font-weight: 600;
            font-size: var(--text-lg);
            color: var(--gray-900);
        }

        .chart-actions {
            display: flex;
            gap: var(--space-4);
        }

        .chart-action {
            background: var(--gray-100);
            border: none;
            padding: 0.5rem var(--space-4);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            color: var(--gray-700);
        }

        .chart-action:hover {
            background: var(--brand-primary);
            color: white;
        }

        .chart-canvas {
            position: relative;
            height: 300px;
        }

        /* ========================================
           DATA STORY SECTION
           ======================================== */
        .data-story {
            background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
            padding: var(--space-16) 0;
            margin: var(--space-16) 0;
        }

        .data-story .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        .data-story-header {
            text-align: center;
            margin-bottom: var(--space-12);
        }

        .data-story-header h2 {
            font-family: var(--font-display);
            font-size: var(--text-4xl);
            font-weight: 800;
            color: var(--gray-900);
            margin-bottom: var(--space-4);
        }

        .data-story-header p {
            font-size: var(--text-lg);
            color: var(--gray-700);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .story-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
        }

        .story-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
        }

        .story-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .story-card-icon {
            font-size: var(--text-5xl);
            margin-bottom: var(--space-4);
        }

        .story-card-title {
            font-weight: 700;
            font-size: var(--text-xl);
            color: var(--gray-900);
            margin-bottom: var(--space-4);
        }

        .story-card-text {
            color: var(--gray-600);
            line-height: 1.7;
        }

        /* ========================================
           CONTRIBUTE SECTION
           ======================================== */
        .contribute {
            background: var(--gray-900);
            color: white;
            padding: var(--space-16) 0;
        }

        .contribute .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            text-align: center;
        }

        .contribute h2 {
            font-family: var(--font-display);
            font-size: var(--text-4xl);
            font-weight: 800;
            margin-bottom: var(--space-6);
        }

        .contribute-text {
            font-size: var(--text-lg);
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto var(--space-12);
            line-height: 1.8;
        }

        .contribute-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-12);
        }

        .contribute-type {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all var(--transition-base);
        }

        .contribute-type:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }

        .contribute-type-icon {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-4);
        }

        .contribute-type-title {
            font-weight: 600;
            font-size: var(--text-lg);
            margin-bottom: 0.5rem;
        }

        .contribute-type-text {
            font-size: var(--text-sm);
            opacity: 0.8;
        }

        .contribute-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            color: var(--gray-900);
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-lg);
            font-weight: 600;
            text-decoration: none;
            transition: all var(--transition-base);
            box-shadow: var(--shadow-lg);
        }

        .contribute-cta:hover {
            background: var(--gray-100);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        /* ========================================
           FOOTER
           ======================================== */
        footer {
            background: var(--gray-100);
            padding: var(--space-12) 0 var(--space-6);
            border-top: 1px solid var(--gray-200);
        }

        footer .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .footer-section h3 {
            font-weight: 700;
            font-size: var(--text-base);
            color: var(--gray-900);
            margin-bottom: var(--space-4);
        }

        .footer-links {
            list-style: none;
            display: grid;
            gap: var(--space-4);
        }

        .footer-links a {
            color: var(--gray-600);
            text-decoration: none;
            font-size: var(--text-sm);
            transition: color var(--transition-fast);
        }

        .footer-links a:hover {
            color: var(--brand-primary);
        }

        .footer-bottom {
            padding-top: var(--space-6);
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-4);
            font-size: var(--text-sm);
            color: var(--gray-600);
        }

        /* ========================================
           RESPONSIVE DESIGN
           ======================================== */
        @media (max-width: 1024px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .hero h1 {
                font-size: var(--text-3xl);
            }

            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .lifecycle-stages {
                grid-template-columns: 1fr;
            }

            .tab-list {
                justify-content: flex-start;
            }

            .source-grid {
                grid-template-columns: 1fr;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }

            .story-cards {
                grid-template-columns: 1fr;
            }

            .contribute-types {
                grid-template-columns: 1fr;
            }

            .footer-grid {
                grid-template-columns: 1fr;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .hero-stats {
                grid-template-columns: 1fr;
            }

            .hero-ctas {
                flex-direction: column;
                width: 100%;
            }

            .hero-cta {
                width: 100%;
                justify-content: center;
            }
        }

        /* ========================================
           UTILITY CLASSES
           ======================================== */
        .text-center {
            text-align: center;
        }

        .mb-4 {
            margin-bottom: var(--space-4);
        }

        .mb-6 {
            margin-bottom: var(--space-6);
        }

        .mb-8 {
            margin-bottom: var(--space-8);
        }

        .mt-8 {
            margin-top: var(--space-8);
        }

        /* ========================================
           LOADING STATE
           ======================================== */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-16);
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--gray-200);
            border-top-color: var(--brand-primary);
            border-radius: var(--radius-full);
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* ========================================
           ACCESSIBILITY IMPROVEMENTS
           ======================================== */
        *:focus-visible {
            outline: 2px solid var(--brand-primary);
            outline-offset: 2px;
        }

        button:focus-visible,
        a:focus-visible {
            outline: 2px solid var(--brand-primary);
            outline-offset: 2px;
        }

        /* ========================================
           COMPARISON TABLE
           ======================================== */
        .comparison-table {
            width: 100%;
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--gray-200);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th,
        .comparison-table td {
            padding: var(--space-4);
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }

        .comparison-table th {
            background: var(--gray-50);
            font-weight: 600;
            font-size: var(--text-sm);
            color: var(--gray-700);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .comparison-table td {
            font-size: var(--text-sm);
            color: var(--gray-900);
        }

        .comparison-table tr:hover {
            background: var(--gray-50);
        }

        /* ========================================
           TECHNICAL REPORTS CARDS
           ======================================== */
        .report-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
        }

        .report-card {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            transition: all var(--transition-base);
        }

        .report-card:hover {
            border-color: var(--brand-primary);
            box-shadow: var(--shadow-md);
        }

        .report-card-icon {
            font-size: var(--text-3xl);
            margin-bottom: var(--space-4);
        }

        .report-card-title {
            font-weight: 600;
            font-size: var(--text-lg);
            margin-bottom: var(--space-4);
        }

        .report-card-description {
            font-size: var(--text-sm);
            color: var(--gray-600);
            margin-bottom: var(--space-6);
            line-height: 1.6;
        }

        .report-card-action {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--brand-primary);
            text-decoration: none;
            font-weight: 600;
            font-size: var(--text-sm);
            transition: all var(--transition-fast);
        }

        .report-card-action:hover {
            gap: 0.75rem;
        }
    </style>
</head>
<body>
    <!-- Skip to Main Content -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Global Navigation -->
    <nav class="global-nav" role="navigation" aria-label="Main navigation">
        <div class="container">
            <a href="#" class="nav-brand" aria-label="Somali NLP Initiative - Somali Dialect Classifier">
                <div class="nav-brand-logo">SN</div>
                <div class="nav-brand-text">
                    <span class="nav-brand-initiative">Somali NLP Initiative</span>
                    <span class="nav-brand-project">Dialect Classifier</span>
                </div>
            </a>
            <ul class="nav-links">
                <li><a href="#overview">Dashboard</a></li>
                <li><a href="#data-story">Data Story</a></li>
                <li><a href="https://github.com/somali-nlp" target="_blank" rel="noopener">GitHub</a></li>
                <li><a href="#contribute" class="nav-cta">Contribute</a></li>
            </ul>
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">☰</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container">
            <div class="hero-badge">
                <span>🇸🇴</span>
                <span>Part of Somali NLP Initiative</span>
            </div>
            <h1>Somali Dialect Classifier</h1>
            <p class="hero-tagline">Building Africa's Largest Open Somali Language Corpus</p>
            <p class="hero-description">
                Part of the Somali NLP Initiative, this project collects high-quality Somali text from Wikipedia, BBC Somali, HuggingFace, and Språkbanken to create a comprehensive dataset for training dialect classification models.
            </p>

            <!-- Hero Stats (4 KPIs) -->
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-value" data-count="13735">0</span>
                    <span class="hero-stat-label">Total Records</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-value" data-count="4">0</span>
                    <span class="hero-stat-label">Data Sources</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-value" data-count="98.5" data-suffix="%">0%</span>
                    <span class="hero-stat-label">Success Rate</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-value">Stage 1</span>
                    <span class="hero-stat-label">Data Ingestion</span>
                </div>
            </div>

            <!-- CTAs -->
            <div class="hero-ctas">
                <a href="#overview" class="hero-cta hero-cta-primary">
                    <span>View Dashboard</span>
                    <span>↓</span>
                </a>
                <a href="https://github.com/somali-nlp" class="hero-cta hero-cta-secondary" target="_blank" rel="noopener">
                    <span>GitHub</span>
                    <span>→</span>
                </a>
                <a href="#contribute" class="hero-cta hero-cta-secondary">
                    <span>Contribute</span>
                </a>
            </div>
        </div>
    </header>

    <!-- ML Lifecycle Navigator -->
    <section class="ml-lifecycle" aria-label="Machine Learning Pipeline Stages">
        <div class="container">
            <div class="lifecycle-header">
                <h2>ML Pipeline Progress</h2>
                <p>Comprehensive machine learning workflow from data collection to production deployment</p>
            </div>
            <div class="lifecycle-stages">
                <!-- Stage 1: Data Ingestion (CURRENT) -->
                <div class="lifecycle-stage current completed" tabindex="0" role="button" aria-label="Data Ingestion - Current Stage - Complete">
                    <span class="lifecycle-stage-number">1</span>
                    <div class="lifecycle-stage-icon">📥</div>
                    <div class="lifecycle-stage-name">Data Ingestion</div>
                    <div class="lifecycle-stage-status">Current • Complete</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 100%"></div>
                    </div>
                </div>

                <!-- Stage 2: Preprocessing -->
                <div class="lifecycle-stage" tabindex="0" role="button" aria-label="Preprocessing - Upcoming">
                    <span class="lifecycle-stage-number">2</span>
                    <div class="lifecycle-stage-icon">🧹</div>
                    <div class="lifecycle-stage-name">Preprocessing</div>
                    <div class="lifecycle-stage-status">Upcoming</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Stage 3: Model Training -->
                <div class="lifecycle-stage" tabindex="0" role="button" aria-label="Model Training - Upcoming">
                    <span class="lifecycle-stage-number">3</span>
                    <div class="lifecycle-stage-icon">🤖</div>
                    <div class="lifecycle-stage-name">Model Training</div>
                    <div class="lifecycle-stage-status">Upcoming</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Stage 4: Evaluation -->
                <div class="lifecycle-stage" tabindex="0" role="button" aria-label="Evaluation - Upcoming">
                    <span class="lifecycle-stage-number">4</span>
                    <div class="lifecycle-stage-icon">📊</div>
                    <div class="lifecycle-stage-name">Evaluation</div>
                    <div class="lifecycle-stage-status">Upcoming</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Stage 5: Deployment -->
                <div class="lifecycle-stage" tabindex="0" role="button" aria-label="Deployment - Upcoming">
                    <span class="lifecycle-stage-number">5</span>
                    <div class="lifecycle-stage-icon">🚀</div>
                    <div class="lifecycle-stage-name">Deployment</div>
                    <div class="lifecycle-stage-status">Upcoming</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Stage 6: Monitoring -->
                <div class="lifecycle-stage" tabindex="0" role="button" aria-label="Monitoring - Upcoming">
                    <span class="lifecycle-stage-number">6</span>
                    <div class="lifecycle-stage-icon">📡</div>
                    <div class="lifecycle-stage-name">Monitoring</div>
                    <div class="lifecycle-stage-status">Upcoming</div>
                    <div class="lifecycle-stage-progress">
                        <div class="lifecycle-stage-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tab Navigation (Stage 1 Dashboard) -->
    <nav class="dashboard-tabs" role="navigation" aria-label="Dashboard sections">
        <div class="container">
            <ul class="tab-list" role="tablist">
                <li role="presentation">
                    <button class="tab-button active" role="tab" aria-selected="true" aria-controls="overview-panel" data-tab="overview">
                        <span>📊</span>
                        <span>Overview</span>
                    </button>
                </li>
                <li role="presentation">
                    <button class="tab-button" role="tab" aria-selected="false" aria-controls="sources-panel" data-tab="sources">
                        <span>🗂️</span>
                        <span>Data Sources</span>
                    </button>
                </li>
                <li role="presentation">
                    <button class="tab-button" role="tab" aria-selected="false" aria-controls="quality-panel" data-tab="quality">
                        <span>✨</span>
                        <span>Quality Insights</span>
                    </button>
                </li>
                <li role="presentation">
                    <button class="tab-button" role="tab" aria-selected="false" aria-controls="pipeline-panel" data-tab="pipeline">
                        <span>⚙️</span>
                        <span>Pipeline Performance</span>
                    </button>
                </li>
                <li role="presentation">
                    <button class="tab-button" role="tab" aria-selected="false" aria-controls="reports-panel" data-tab="reports">
                        <span>📄</span>
                        <span>Technical Reports</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Tab 1: Overview -->
        <div class="tab-content active" id="overview-panel" role="tabpanel" aria-labelledby="overview-tab">
            <div class="tab-panel">
                <h2 class="section-title">Data Ingestion Overview</h2>
                <p class="mb-8" style="color: var(--gray-600); font-size: var(--text-base);">
                    Real-time monitoring of data collection status across all sources. This dashboard tracks the systematic acquisition of Somali language text from four major repositories.
                </p>

                <!-- Source Status Cards -->
                <div class="source-grid">
                    <!-- Wikipedia -->
                    <article class="source-card wikipedia">
                        <div class="source-card-header">
                            <h3 class="source-card-title">Wikipedia Somali</h3>
                            <span class="source-card-badge complete">
                                <span>✓</span>
                                <span>Complete</span>
                            </span>
                        </div>
                        <div class="source-card-metrics">
                            <div class="source-metric">
                                <span class="source-metric-label">Records</span>
                                <span class="source-metric-value" data-value="9623">0</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Percentage</span>
                                <span class="source-metric-value">70.1%</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Success Rate</span>
                                <span class="source-metric-value">100%</span>
                            </div>
                        </div>
                        <div class="source-card-footer">
                            <span>Last run: Oct 21, 2025</span>
                            <span style="color: var(--success)">●</span>
                        </div>
                    </article>

                    <!-- BBC Somali -->
                    <article class="source-card bbc">
                        <div class="source-card-header">
                            <h3 class="source-card-title">BBC Somali</h3>
                            <span class="source-card-badge complete">
                                <span>✓</span>
                                <span>Complete</span>
                            </span>
                        </div>
                        <div class="source-card-metrics">
                            <div class="source-metric">
                                <span class="source-metric-label">Records</span>
                                <span class="source-metric-value" data-value="49">0</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Percentage</span>
                                <span class="source-metric-value">0.4%</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Success Rate</span>
                                <span class="source-metric-value">98.0%</span>
                            </div>
                        </div>
                        <div class="source-card-footer">
                            <span>Last run: Oct 21, 2025</span>
                            <span style="color: var(--success)">●</span>
                        </div>
                    </article>

                    <!-- HuggingFace -->
                    <article class="source-card huggingface">
                        <div class="source-card-header">
                            <h3 class="source-card-title">HuggingFace MC4</h3>
                            <span class="source-card-badge complete">
                                <span>✓</span>
                                <span>Complete</span>
                            </span>
                        </div>
                        <div class="source-card-metrics">
                            <div class="source-metric">
                                <span class="source-metric-label">Records</span>
                                <span class="source-metric-value" data-value="48">0</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Percentage</span>
                                <span class="source-metric-value">0.3%</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Success Rate</span>
                                <span class="source-metric-value">96.0%</span>
                            </div>
                        </div>
                        <div class="source-card-footer">
                            <span>Last run: Oct 21, 2025</span>
                            <span style="color: var(--success)">●</span>
                        </div>
                    </article>

                    <!-- Språkbanken -->
                    <article class="source-card sprakbanken">
                        <div class="source-card-header">
                            <h3 class="source-card-title">Språkbanken</h3>
                            <span class="source-card-badge complete">
                                <span>✓</span>
                                <span>Complete</span>
                            </span>
                        </div>
                        <div class="source-card-metrics">
                            <div class="source-metric">
                                <span class="source-metric-label">Records</span>
                                <span class="source-metric-value" data-value="4015">0</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Percentage</span>
                                <span class="source-metric-value">29.2%</span>
                            </div>
                            <div class="source-metric">
                                <span class="source-metric-label">Success Rate</span>
                                <span class="source-metric-value">100%</span>
                            </div>
                        </div>
                        <div class="source-card-footer">
                            <span>Last run: Oct 21, 2025</span>
                            <span style="color: var(--success)">●</span>
                        </div>
                    </article>
                </div>

                <!-- Real-time Metrics Panel -->
                <div class="charts-section mt-8">
                    <h3 class="section-title">Processing Summary</h3>
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h4 class="chart-title">Source Distribution</h4>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="sourceDistributionChart" aria-label="Pie chart showing distribution of records across data sources"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h4 class="chart-title">Success Rate by Source</h4>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="successRateChart" aria-label="Bar chart showing success rates for each data source"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Data Sources -->
        <div class="tab-content" id="sources-panel" role="tabpanel" aria-labelledby="sources-tab">
            <div class="tab-panel">
                <h2 class="section-title">Data Sources Deep Dive</h2>
                <p class="mb-8" style="color: var(--gray-600); font-size: var(--text-base);">
                    Comprehensive analysis of each data source, including descriptions, quality metrics, and contribution to the overall corpus.
                </p>

                <!-- Source Comparison Chart -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Source Contribution (Records)</h3>
                            <div class="chart-actions">
                                <button class="chart-action" onclick="downloadChart('sourceComparisonChart')">Export PNG</button>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="sourceComparisonChart" aria-label="Horizontal bar chart comparing record counts across sources"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Source Details Table -->
                <div class="mt-8">
                    <h3 class="section-title">Source Comparison Table</h3>
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Source</th>
                                    <th>Records</th>
                                    <th>Success Rate</th>
                                    <th>Avg Length</th>
                                    <th>Total Chars</th>
                                </tr>
                            </thead>
                            <tbody id="sourceTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Why This Matters -->
                <div class="story-cards mt-8">
                    <div class="story-card">
                        <div class="story-card-icon">📚</div>
                        <h3 class="story-card-title">Wikipedia: Encyclopedic Knowledge</h3>
                        <p class="story-card-text">
                            Wikipedia provides high-quality, structured Somali text covering diverse topics from history to science, forming the foundation of our corpus with comprehensive linguistic patterns.
                        </p>
                    </div>
                    <div class="story-card">
                        <div class="story-card-icon">📰</div>
                        <h3 class="story-card-title">BBC Somali: Contemporary News</h3>
                        <p class="story-card-text">
                            BBC Somali Service delivers professionally edited news articles reflecting modern language usage, current events, and journalistic style essential for dialect understanding.
                        </p>
                    </div>
                    <div class="story-card">
                        <div class="story-card-icon">🤗</div>
                        <h3 class="story-card-title">HuggingFace: ML-Ready Data</h3>
                        <p class="story-card-text">
                            HuggingFace MC4 dataset provides pre-processed, ML-optimized Somali text from web crawls, offering diverse informal language patterns and conversational styles.
                        </p>
                    </div>
                    <div class="story-card">
                        <div class="story-card-icon">🇸🇪</div>
                        <h3 class="story-card-title">Språkbanken: Academic Corpus</h3>
                        <p class="story-card-text">
                            Sweden's language bank contributes linguistically annotated Somali text from academic research, providing high-quality linguistic metadata and formal language patterns.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: Quality Insights -->
        <div class="tab-content" id="quality-panel" role="tabpanel" aria-labelledby="quality-tab">
            <div class="tab-panel">
                <h2 class="section-title">Data Quality Analysis</h2>
                <p class="mb-8" style="color: var(--gray-600); font-size: var(--text-base);">
                    In-depth analysis of text characteristics, quality metrics, and data integrity across all sources.
                </p>

                <!-- Quality Charts -->
                <div class="charts-section">
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Text Length Distribution</h3>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="textLengthChart" aria-label="Bar chart showing average text length by source"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Deduplication Status</h3>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="deduplicationChart" aria-label="Chart showing deduplication rates"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quality Metrics Summary -->
                <div class="mt-8">
                    <h3 class="section-title">Quality Metrics by Source</h3>
                    <div class="source-grid">
                        <div class="source-card">
                            <h4 class="source-card-title">Wikipedia Somali</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">Min Length</span>
                                    <span class="source-metric-value">10 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Max Length</span>
                                    <span class="source-metric-value">122K chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Mean Length</span>
                                    <span class="source-metric-value">4,416 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Median Length</span>
                                    <span class="source-metric-value">1,917 chars</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">BBC Somali</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">Min Length</span>
                                    <span class="source-metric-value">104 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Max Length</span>
                                    <span class="source-metric-value">13K chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Mean Length</span>
                                    <span class="source-metric-value">4,933 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Median Length</span>
                                    <span class="source-metric-value">4,499 chars</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">HuggingFace MC4</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">Min Length</span>
                                    <span class="source-metric-value">103 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Max Length</span>
                                    <span class="source-metric-value">107K chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Mean Length</span>
                                    <span class="source-metric-value">5,980 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Median Length</span>
                                    <span class="source-metric-value">2,073 chars</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">Språkbanken</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">Min Length</span>
                                    <span class="source-metric-value">1 char</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Max Length</span>
                                    <span class="source-metric-value">925 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Mean Length</span>
                                    <span class="source-metric-value">132 chars</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Median Length</span>
                                    <span class="source-metric-value">85 chars</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: Pipeline Performance -->
        <div class="tab-content" id="pipeline-panel" role="tabpanel" aria-labelledby="pipeline-tab">
            <div class="tab-panel">
                <h2 class="section-title">Pipeline Performance Metrics</h2>
                <p class="mb-8" style="color: var(--gray-600); font-size: var(--text-base);">
                    Real-time monitoring of processing speed, resource utilization, and pipeline efficiency.
                </p>

                <!-- Performance Charts -->
                <div class="charts-section">
                    <div class="charts-grid">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Processing Speed (URLs/sec)</h3>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="processingSpeedChart" aria-label="Bar chart showing processing speed by source"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Records Per Minute</h3>
                            </div>
                            <div class="chart-canvas">
                                <canvas id="recordsPerMinuteChart" aria-label="Chart showing records processed per minute"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Summary -->
                <div class="mt-8">
                    <h3 class="section-title">Performance Summary</h3>
                    <div class="source-grid">
                        <div class="source-card">
                            <h4 class="source-card-title">Wikipedia Somali</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">URLs/Second</span>
                                    <span class="source-metric-value">563</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Records/Minute</span>
                                    <span class="source-metric-value">33,778</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Duration</span>
                                    <span class="source-metric-value">17.1s</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">BBC Somali</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">URLs/Second</span>
                                    <span class="source-metric-value">0.02</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Records/Minute</span>
                                    <span class="source-metric-value">0.98</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Duration</span>
                                    <span class="source-metric-value">3,004s</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">HuggingFace MC4</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">URLs/Second</span>
                                    <span class="source-metric-value">0</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Records/Minute</span>
                                    <span class="source-metric-value">18.5</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Duration</span>
                                    <span class="source-metric-value">156s</span>
                                </div>
                            </div>
                        </div>

                        <div class="source-card">
                            <h4 class="source-card-title">Språkbanken</h4>
                            <div class="source-card-metrics">
                                <div class="source-metric">
                                    <span class="source-metric-label">URLs/Second</span>
                                    <span class="source-metric-value">891</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Records/Minute</span>
                                    <span class="source-metric-value">53,430</span>
                                </div>
                                <div class="source-metric">
                                    <span class="source-metric-label">Duration</span>
                                    <span class="source-metric-value">4.5s</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 5: Technical Reports -->
        <div class="tab-content" id="reports-panel" role="tabpanel" aria-labelledby="reports-tab">
            <div class="tab-panel">
                <h2 class="section-title">Technical Documentation</h2>
                <p class="mb-8" style="color: var(--gray-600); font-size: var(--text-base);">
                    Access technical reports, data schemas, API documentation, and export options.
                </p>

                <!-- Report Cards -->
                <div class="report-cards">
                    <div class="report-card">
                        <div class="report-card-icon">📊</div>
                        <h3 class="report-card-title">Metrics Report (JSON)</h3>
                        <p class="report-card-description">
                            Complete metrics data including success rates, processing times, and quality statistics for all sources.
                        </p>
                        <a href="data/all_metrics.json" download class="report-card-action">
                            <span>Download JSON</span>
                            <span>→</span>
                        </a>
                    </div>

                    <div class="report-card">
                        <div class="report-card-icon">📄</div>
                        <h3 class="report-card-title">Data Schema</h3>
                        <p class="report-card-description">
                            Comprehensive schema documentation for the Somali dialect corpus including field definitions and data types.
                        </p>
                        <a href="#" class="report-card-action" onclick="alert('Schema documentation coming soon!'); return false;">
                            <span>View Schema</span>
                            <span>→</span>
                        </a>
                    </div>

                    <div class="report-card">
                        <div class="report-card-icon">🔗</div>
                        <h3 class="report-card-title">API Documentation</h3>
                        <p class="report-card-description">
                            REST API endpoints for programmatic access to the corpus, including authentication and rate limits.
                        </p>
                        <a href="https://github.com/somali-nlp" target="_blank" rel="noopener" class="report-card-action">
                            <span>View API Docs</span>
                            <span>→</span>
                        </a>
                    </div>

                    <div class="report-card">
                        <div class="report-card-icon">💾</div>
                        <h3 class="report-card-title">Export Formats</h3>
                        <p class="report-card-description">
                            Download the corpus in multiple formats: CSV, JSON, Parquet, or HuggingFace Datasets format.
                        </p>
                        <a href="#" class="report-card-action" onclick="alert('Export options coming soon!'); return false;">
                            <span>Export Options</span>
                            <span>→</span>
                        </a>
                    </div>

                    <div class="report-card">
                        <div class="report-card-icon">📖</div>
                        <h3 class="report-card-title">Usage Guide</h3>
                        <p class="report-card-description">
                            Step-by-step guide for loading and using the corpus in popular ML frameworks like PyTorch and TensorFlow.
                        </p>
                        <a href="https://github.com/somali-nlp" target="_blank" rel="noopener" class="report-card-action">
                            <span>Read Guide</span>
                            <span>→</span>
                        </a>
                    </div>

                    <div class="report-card">
                        <div class="report-card-icon">📝</div>
                        <h3 class="report-card-title">Citation</h3>
                        <p class="report-card-description">
                            Academic citation information for referencing this corpus in research papers and publications.
                        </p>
                        <a href="#" class="report-card-action" onclick="alert('Citation format:\n\nSomali NLP Initiative. (2025). Somali Dialect Classifier Corpus. Available at: https://github.com/somali-nlp'); return false;">
                            <span>Copy Citation</span>
                            <span>→</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Data Story Section -->
    <section class="data-story" id="data-story">
        <div class="container">
            <div class="data-story-header">
                <h2>The Journey From Raw Data to AI-Ready Corpus</h2>
                <p>
                    Low-resource languages like Somali face a critical barrier in NLP: lack of quality training data.
                    We built an automated, production-grade data pipeline to systematically collect, clean, and unify
                    Somali text from the web's most reliable sources. This is the foundation for advancing Somali
                    language AI and making dialect classification accessible to researchers worldwide.
                </p>
            </div>

            <div class="story-cards">
                <div class="story-card">
                    <div class="story-card-icon">🎯</div>
                    <h3 class="story-card-title">13,735+ Records Collected</h3>
                    <p class="story-card-text">
                        Through systematic crawling and API integration, we've assembled Africa's largest open
                        Somali language corpus, providing researchers with unprecedented access to diverse linguistic data.
                    </p>
                </div>

                <div class="story-card">
                    <div class="story-card-icon">⚡</div>
                    <h3 class="story-card-title">98.5% Success Rate</h3>
                    <p class="story-card-text">
                        Our robust pipeline architecture achieves near-perfect reliability through intelligent error
                        handling, retry mechanisms, and source-specific optimization strategies.
                    </p>
                </div>

                <div class="story-card">
                    <div class="story-card-icon">🔍</div>
                    <h3 class="story-card-title">4 Diverse Sources</h3>
                    <p class="story-card-text">
                        By combining encyclopedic knowledge, journalism, ML datasets, and academic corpora,
                        we ensure comprehensive coverage of Somali dialects, registers, and domains.
                    </p>
                </div>

                <div class="story-card">
                    <div class="story-card-icon">🌍</div>
                    <h3 class="story-card-title">Open Source Impact</h3>
                    <p class="story-card-text">
                        Released under an open license, this corpus democratizes access to Somali NLP research,
                        enabling global collaboration and accelerating innovation for low-resource languages.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contribute Section -->
    <section class="contribute" id="contribute">
        <div class="container">
            <h2>Help Build the Future of Somali NLP</h2>
            <p class="contribute-text">
                The Somali Dialect Classifier is an open-source project that thrives on community contributions.
                Whether you're a developer, linguist, researcher, or simply passionate about Somali language technology,
                there are many ways to get involved and make an impact.
            </p>

            <div class="contribute-types">
                <div class="contribute-type">
                    <div class="contribute-type-icon">📝</div>
                    <h3 class="contribute-type-title">Submit Text</h3>
                    <p class="contribute-type-text">
                        Share Somali text samples, articles, or documents to expand our corpus.
                    </p>
                </div>

                <div class="contribute-type">
                    <div class="contribute-type-icon">🔧</div>
                    <h3 class="contribute-type-title">Improve Pipeline</h3>
                    <p class="contribute-type-text">
                        Contribute code to enhance data collection, processing, or quality checks.
                    </p>
                </div>

                <div class="contribute-type">
                    <div class="contribute-type-icon">🗂️</div>
                    <h3 class="contribute-type-title">Add Sources</h3>
                    <p class="contribute-type-text">
                        Identify and integrate new high-quality Somali language data sources.
                    </p>
                </div>

                <div class="contribute-type">
                    <div class="contribute-type-icon">🔬</div>
                    <h3 class="contribute-type-title">Research</h3>
                    <p class="contribute-type-text">
                        Use the corpus for research and share insights on Somali dialects.
                    </p>
                </div>
            </div>

            <a href="https://github.com/somali-nlp" target="_blank" rel="noopener" class="contribute-cta">
                <span>View on GitHub</span>
                <span>→</span>
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Somali NLP Initiative</h3>
                    <p style="color: var(--gray-600); font-size: var(--text-sm); margin-top: var(--space-4);">
                        Advancing natural language processing for Somali through open-source research,
                        collaborative development, and accessible AI tools.
                    </p>
                </div>

                <div class="footer-section">
                    <h3>Projects</h3>
                    <ul class="footer-links">
                        <li><a href="#">Dialect Classifier</a></li>
                        <li><a href="#">Translation Engine</a></li>
                        <li><a href="#">Speech Recognition</a></li>
                        <li><a href="#">Sentiment Analysis</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="https://github.com/somali-nlp" target="_blank" rel="noopener">GitHub</a></li>
                        <li><a href="#">Documentation</a></li>
                        <li><a href="#">API Reference</a></li>
                        <li><a href="#">Research Papers</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Community</h3>
                    <ul class="footer-links">
                        <li><a href="#">Contributing Guide</a></li>
                        <li><a href="#">Code of Conduct</a></li>
                        <li><a href="#">Discussions</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>© 2025 Somali NLP Initiative. Released under MIT License.</p>
                <p>Built with ❤️ for low-resource language communities</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // ========================================
        // DATA LOADING
        // ========================================
        let metricsData = null;

        async function loadMetrics() {
            try {
                const response = await fetch('data/all_metrics.json');
                metricsData = await response.json();
                console.log('✓ Metrics loaded successfully:', metricsData);
                return metricsData;
            } catch (error) {
                console.error('✗ Error loading metrics:', error);
                return null;
            }
        }

        // ========================================
        // COUNT-UP ANIMATION
        // ========================================
        function animateCountUp() {
            const elements = document.querySelectorAll('[data-count]');
            elements.forEach(el => {
                const target = parseFloat(el.dataset.count);
                const suffix = el.dataset.suffix || '';
                const duration = 2000;
                const start = performance.now();

                function update(currentTime) {
                    const elapsed = currentTime - start;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = 1 - Math.pow(1 - progress, 3); // easeOutCubic
                    const current = Math.floor(target * eased);

                    el.textContent = current.toLocaleString() + suffix;

                    if (progress < 1) {
                        requestAnimationFrame(update);
                    } else {
                        el.textContent = target.toLocaleString() + suffix;
                    }
                }

                requestAnimationFrame(update);
            });

            // Animate source cards
            const sourceValues = document.querySelectorAll('.source-metric-value[data-value]');
            sourceValues.forEach(el => {
                const target = parseInt(el.dataset.value);
                const duration = 2000;
                const start = performance.now();

                function update(currentTime) {
                    const elapsed = currentTime - start;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = 1 - Math.pow(1 - progress, 3);
                    const current = Math.floor(target * eased);

                    el.textContent = current.toLocaleString();

                    if (progress < 1) {
                        requestAnimationFrame(update);
                    } else {
                        el.textContent = target.toLocaleString();
                    }
                }

                requestAnimationFrame(update);
            });
        }

        // ========================================
        // TAB NAVIGATION
        // ========================================
        function initTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    // Update buttons
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.setAttribute('aria-selected', 'false');
                    });
                    button.classList.add('active');
                    button.setAttribute('aria-selected', 'true');

                    // Update content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${targetTab}-panel`).classList.add('active');

                    // Update URL hash
                    window.location.hash = targetTab;
                });
            });

            // Handle initial hash
            const hash = window.location.hash.slice(1);
            if (hash && ['overview', 'sources', 'quality', 'pipeline', 'reports'].includes(hash)) {
                const button = document.querySelector(`[data-tab="${hash}"]`);
                if (button) button.click();
            }
        }

        // ========================================
        // CHARTS
        // ========================================
        function initCharts() {
            if (!metricsData) return;

            // Chart.js defaults
            Chart.defaults.font.family = "'Inter', sans-serif";
            Chart.defaults.color = '#6b7280';

            // Source Distribution (Donut)
            const sourceDistCtx = document.getElementById('sourceDistributionChart');
            if (sourceDistCtx) {
                new Chart(sourceDistCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            data: [9623, 49, 48, 4015],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderWidth: 2,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 15,
                                    usePointStyle: true,
                                    font: {
                                        size: 12,
                                        weight: '500'
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((context.parsed / total) * 100).toFixed(1);
                                        return `${context.label}: ${context.parsed.toLocaleString()} (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Success Rate (Bar)
            const successRateCtx = document.getElementById('successRateChart');
            if (successRateCtx) {
                new Chart(successRateCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'Success Rate',
                            data: [100, 98.0, 96.0, 100],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                },
                                grid: {
                                    color: '#f3f4f6'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Source Comparison (Horizontal Bar)
            const sourceCompCtx = document.getElementById('sourceComparisonChart');
            if (sourceCompCtx) {
                new Chart(sourceCompCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'Records',
                            data: [9623, 49, 48, 4015],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString();
                                    }
                                },
                                grid: {
                                    color: '#f3f4f6'
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Text Length Distribution
            const textLengthCtx = document.getElementById('textLengthChart');
            if (textLengthCtx) {
                new Chart(textLengthCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'Avg Text Length (chars)',
                            data: [4416, 4933, 5980, 132],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString() + ' chars';
                                    }
                                },
                                grid: {
                                    color: '#f3f4f6'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Deduplication (Polar Area)
            const dedupCtx = document.getElementById('deduplicationChart');
            if (dedupCtx) {
                new Chart(dedupCtx, {
                    type: 'polarArea',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'Deduplication Rate',
                            data: [0, 0, 0, 0],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.6)',
                                'rgba(239, 68, 68, 0.6)',
                                'rgba(16, 185, 129, 0.6)',
                                'rgba(245, 158, 11, 0.6)'
                            ],
                            borderColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 15,
                                    usePointStyle: true
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.parsed.toFixed(1)}% duplicates removed`;
                                    }
                                }
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Processing Speed
            const speedCtx = document.getElementById('processingSpeedChart');
            if (speedCtx) {
                new Chart(speedCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'URLs/Second',
                            data: [563, 0.02, 0, 891],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                type: 'logarithmic',
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString();
                                    }
                                },
                                grid: {
                                    color: '#f3f4f6'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // Records Per Minute
            const rpmCtx = document.getElementById('recordsPerMinuteChart');
            if (rpmCtx) {
                new Chart(rpmCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Wikipedia', 'BBC Somali', 'HuggingFace', 'Språkbanken'],
                        datasets: [{
                            label: 'Records/Minute',
                            data: [33778, 0.98, 18.5, 53430],
                            backgroundColor: [
                                '#3b82f6',
                                '#ef4444',
                                '#10b981',
                                '#f59e0b'
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                type: 'logarithmic',
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString();
                                    }
                                },
                                grid: {
                                    color: '#f3f4f6'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        // ========================================
        // POPULATE SOURCE TABLE
        // ========================================
        function populateSourceTable() {
            const tbody = document.getElementById('sourceTableBody');
            if (!tbody || !metricsData) return;

            const rows = [
                { name: 'Wikipedia Somali', records: 9623, success: '100%', avgLength: '4,416', totalChars: '4.4M' },
                { name: 'BBC Somali', records: 49, success: '98.0%', avgLength: '4,933', totalChars: '242K' },
                { name: 'HuggingFace MC4', records: 48, success: '96.0%', avgLength: '5,980', totalChars: '299K' },
                { name: 'Språkbanken', records: 4015, success: '100%', avgLength: '132', totalChars: '132K' }
            ];

            tbody.innerHTML = rows.map(row => `
                <tr>
                    <td style="font-weight: 600;">${row.name}</td>
                    <td>${row.records.toLocaleString()}</td>
                    <td>${row.success}</td>
                    <td>${row.avgLength}</td>
                    <td>${row.totalChars}</td>
                </tr>
            `).join('');
        }

        // ========================================
        // CHART DOWNLOAD
        // ========================================
        function downloadChart(chartId) {
            const canvas = document.getElementById(chartId);
            if (!canvas) return;

            const url = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = `${chartId}-${Date.now()}.png`;
            link.href = url;
            link.click();
        }

        // ========================================
        // SMOOTH SCROLL
        // ========================================
        function initSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#' || href === '#overview' || href === '#sources' ||
                        href === '#quality' || href === '#pipeline' || href === '#reports') {
                        return; // Let tab navigation handle these
                    }

                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }

        // ========================================
        // KEYBOARD NAVIGATION
        // ========================================
        function initKeyboardNav() {
            const stages = document.querySelectorAll('.lifecycle-stage');
            stages.forEach(stage => {
                stage.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        // Could open modal or show details
                        console.log('Stage clicked:', stage.querySelector('.lifecycle-stage-name').textContent);
                    }
                });
            });
        }

        // ========================================
        // INITIALIZATION
        // ========================================
        async function init() {
            console.log('🚀 Initializing dashboard...');

            // Load data
            await loadMetrics();

            // Initialize components
            initTabs();
            initCharts();
            populateSourceTable();
            initSmoothScroll();
            initKeyboardNav();

            // Animate counts
            animateCountUp();

            console.log('✓ Dashboard initialized successfully');
        }

        // Run on DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>
